# TODO's
- [x] initial values better
- [x] 2D
- [x] waves for 2D
  - not possible
  - [x] rotate 1d waves
    - [x] now check accuracy
    - [x] check correctness of rotating and a sound depending on w0 ofc wrong
- [x] derivative maybe not correct and add for burgers
- [ ] TODO's in src
  - almost all done
- [x] implicit scheme
  - [x] speed not correct...
    - correct when using avg = id
  - [x] fails for dt too large
    - [x] check jacobian
      - correct now
    - [x] works now without jacobian
    - works for root but not newton
      - [x] try giving J to root
        - now do also for 1d
        - but not so fast
  - [x] for linear advection
    - [x] linear stability analysis
- [x] vortex test
  - works now when using arctan2 correctly
  - [ ] check energy conservation
- [ ] reference solutions?
- [ ] review CFL for diagonal motion
- [x] neumann stability analysis
  - done in 1D
- [x] check triangles in accuracy plotter for correctness
- [x] plotter dimensions correct order
- [x] submit short description
- [x] dirichlet bd
- [x] does implicit really represent two-step?
  - yes
- [x] refactor `PDE.derivative`
- [ ] lsa 2d try in state space
  - did it analytiacally
- [x] sound wave through vortex
  - works perfectly
  - but $M_r$ ??
- [x] Kelvin Helmholtz
  - crashes
    - with krylov ekin increases exponentially\
      -> eint drops exp -> pressure negative
- [x] writeout only binary vals
- [x] `fig.tight_layout()`
  - maybe more occurrences needed?
  - works
- [x] add scalar advection euler
- [x] replace paths with `pathlib.Path`
- [x] jacobian for scalar advect Euler
  - [ ] try sparse matrix
    - only manual newton -> not working somehow
- [ ] ekin conservation
  - kyrlov not working
  - now hybr with own J
  - maybe because M is not small enough
- [x] look at godunov
- [ ] jacobain for burgers
- [x] implement `Stepper.step_for(t)`
- [x] add cleanup flag for plotter
- [ ] derivation for c
- [x] rewrite lsa
- [x] revisit order of operators in explicit scheme
- [ ] better guess for big time step? (just big explicit?)
  - try it
    - not so good
- [ ] add numba
  - big pain with all the classes
- [x] angular momenta conservation
  - almost conserved
- [ ] artificial viscosity
  - get whole number values not by averaging
- [ ] lerp between two fluxes
  - eta seems to be 0
  - maybe take artificial velocity as second flux?
  - check conservative of order1
- [x] combination of eta & viscosity
- [x] plot eta/visc
- [x] scalaer advect X -> rho X
  - it already was
- [x] curl
- [x] check conservation LF
  - tot conserved, Ekin -> 0
- [ ] non averaged grid in viscosity
- [ ] test normal mach number as eta
  - works well, but add filter
- [ ] fix `[..., np.newaxis]` bug
- [ ] combine eta & visc
- [x] bomb next to gresho
  - works
- [x] riemann 1D
- [ ] artificial viscosity instead of "physical"?
- [x] rusanov check
  - seems to work now
  - [x] now do lerp of fluxes instead solutions
- [ ] entropy K = p / rho^gamma
  - not good for contact disc
- [ ] laney 22.3 553 (swanson turkel shock switch)
  - not better than shock detection
- [ ] better filtering for eta
  - somehow right disc is not detected well ???
- [x] replace `\ref` by `\cref`
  - `\cref` or `\Cref`?
- [ ] make sure afte e.g. `\ ` is
- [ ] check punctuation in equations
- [ ] ask about references of what he showed
  - "exact" solution
- [ ] fix two step or two-step
  - two-step, as markdown suggests
- [ ] check timetense ie present vs past
- [x] double sided vs one-sided?
  - one-sided
- [ ] remove all occurences of we
- [x] gresho mach increases...
  - check formula with käppeli, scaling not very clear...
- [ ] conserved vs primitive tell that primitive measured, hence often init or smth are given that way
- [ ] tikzit staggered mesh 2d
- [ ] in riemann section tell about scalar vs vector, meybe bit more fundamental
- [x] show why two-step is lax wendroff, define A just as some matrix
  - is the reasoning sensible?
- [ ] code
  - solvers
  - python
  - numpy vectorized
  - maybe einsum flux
- [ ] visc, add new pressure to energy conservation qeq
- [ ] is able to solve navier stokes -> good because turns parabolic, where timestep low but implicit
- [ ] low mach is incompressible bc expand of 1/Mach
- [ ] angular momenta explicit calculation
  - show why angular momenta conserving with calc
- [ ] show a bit code for explicit
  - even though only python, some vectorization techniques used, numpy, einsum
- [ ] maybe better if different eta in each direction?
  - refer to kelvin helmholtz
- [ ] decide for fixed notation concerning scalar vs vector valued functions
- [ ] richtmyer instead of richtmeyer
- [ ] whenever author check for et al.
- [ ] precalc optimal einsum
- [ ] link github

# To Discuss
## 06.04.23
- bachelor thesis proposal
- convergence of rot wave, only n * 45°
- gresho vortex problem
  - cfl?
  - init?
  - evolution?
  - bdc?
- implicit not stable for dt > 2 * dt_crit
## 21.04.23
- implicit works but not with newton
## 28.04.23
- reference Mach $M_r$
- lsa in explicit scheme?
- Kelvin Helmholz
- cfl for non implicit?
- implicit fails for too many timesteps
## 05.05.23
- $c = \sqrt(\gamma * p / \rho)$ or $= \sqrt(\gamma * p) / \rho$ + derivation ?
- krylov exp
- ekin increases slightly ok ? bc mach not low/different enough ?
- F wrong in implicit?
## 12.05.23
- implicit correct now -> krylov works
- summer school?
- better guess for big time step?
## 19.05.23
- big explicit did not benefit
- LF conserved
- what about normal Mach number
- show new eta
## 26.05.23
- curl
- extend time?
## 23.06.23
- refstyle?
  - doesn't matter
  - numbers
  - `\citeauth` notbib, dont forget lax wendroff cite
- reference solution for gresho instead of rusanov
- double sided vs onesided
- scaling of gresho double check
- entropy not so good
- swanson turkel shock switch rather good, however seometimes too low -> scale
## 14.07.23
- angular momentum formula?
- hpclab 10 extra points